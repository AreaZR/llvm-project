; NOTE: Assertions have been autogenerated by utils/update_test_checks.py UTC_ARGS: --version 5
; RUN: opt < %s -passes=instcombine -S | FileCheck %s

define i41 @test0(i41 %A, i41 %B, i41 %C) {
; CHECK-LABEL: define i41 @test0(
; CHECK-SAME: i41 [[A:%.*]], i41 [[B:%.*]], i41 [[C:%.*]]) {
; CHECK-NEXT:    [[X1:%.*]] = and i41 [[A]], [[B]]
; CHECK-NEXT:    [[Z:%.*]] = shl i41 [[X1]], [[C]]
; CHECK-NEXT:    ret i41 [[Z]]
;
  %X = shl i41 %A, %C
  %Y = shl i41 %B, %C
  %Z = and i41 %X, %Y
  ret i41 %Z
}

define i57 @test1(i57 %A, i57 %B, i57 %C) {
; CHECK-LABEL: define i57 @test1(
; CHECK-SAME: i57 [[A:%.*]], i57 [[B:%.*]], i57 [[C:%.*]]) {
; CHECK-NEXT:    [[X1:%.*]] = or i57 [[A]], [[B]]
; CHECK-NEXT:    [[Z:%.*]] = lshr i57 [[X1]], [[C]]
; CHECK-NEXT:    ret i57 [[Z]]
;
  %X = lshr i57 %A, %C
  %Y = lshr i57 %B, %C
  %Z = or i57 %X, %Y
  ret i57 %Z
}

define i49 @test2(i49 %A, i49 %B, i49 %C) {
; CHECK-LABEL: define i49 @test2(
; CHECK-SAME: i49 [[A:%.*]], i49 [[B:%.*]], i49 [[C:%.*]]) {
; CHECK-NEXT:    [[X1:%.*]] = xor i49 [[A]], [[B]]
; CHECK-NEXT:    [[Z:%.*]] = ashr i49 [[X1]], [[C]]
; CHECK-NEXT:    ret i49 [[Z]]
;
  %X = ashr i49 %A, %C
  %Y = ashr i49 %B, %C
  %Z = xor i49 %X, %Y
  ret i49 %Z
}
